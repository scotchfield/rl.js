<!doctype html>
<html>
  <head>
    <title>rl.js</title>
  </head>
  <body>
<div id="game_canvas"></div>
<script src="../src/rl.js" type="text/javascript"></script>
<script type="text/javascript">
(function () {
    var width = 20, height = 20,

    player = {
        x: 0, y: 0, c: '@', style: '#ffffff',
    },

    render = function () {
        rl.clear()
            .style(player.style)
            .write(player.c, player.x, player.y);
    },

    keydown = function (e) {
        if (rl.isKey(e, rl.key.d)) {
            player.x += 1;
        } else if (rl.isKey(e, rl.key.a)) {
            player.x -= 1;
        } else if (rl.isKey(e, rl.key.s)) {
            player.y += 1;
        } else if (rl.isKey(e, rl.key.w)) {
            player.y -= 1;
        }
        player.x = player.x < 0 ? 0 : player.x;
        player.x = player.x >= width ? width - 1 : player.x;
        player.y = player.y < 0 ? 0 : player.y;
        player.y = player.y >= height ? height - 1 : player.y;
        render();
    };

    rl.create('game_canvas', {width: width, height: height})
        .registerKeydown(keydown);

    render();
}());
</script>
  </body>
</html>
