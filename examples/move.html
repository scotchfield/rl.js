<!doctype html>
<html>
  <head>
    <title>rl.js</title>
    <style type="text/css">
body {
  background-color: white;
}
    </style>
  </head>
  <body>
<div id="game_canvas"></div>
<script src="../src/rl.js" type="text/javascript"></script>
<script type="text/javascript">
var game = (function () {
    var canvas, width = 20, height = 20,

    player = {
        x: 0, y: 0, c: '@', style: '#ffffff',
    },

    render = function () {
        rl.clear()
            .style(player.style)
            .write(player.c, player.x, player.y);
    },

    keydown = function (e) {
        if (e.keyCode === 68) {
            player.x += 1;
        } else if (e.keyCode === 65) {
            player.x -= 1;
        } else if (e.keyCode === 83) {
            player.y += 1;
        } else if (e.keyCode === 87) {
            player.y -= 1;
        }
        player.x = player.x < 0 ? 0 : player.x;
        player.x = player.x >= width ? width - 1 : player.x;
        player.y = player.y < 0 ? 0 : player.y;
        player.y = player.y >= height ? height - 1 : player.y;
        render();
    };

    var canvas = rl.canvas({width: width, height: height});
    document.getElementById('game_canvas').appendChild(canvas);
    rl.registerKeydown(keydown);
    render();
}());
</script>
  </body>
</html>
